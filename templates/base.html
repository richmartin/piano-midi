<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}MIDI Library{% endblock %}</title>
    <link rel="stylesheet" href="{{ '/static/style.css' | urlencode }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

    <nav class="main-nav">
        <a href="{{ '/index.html' | urlencode }}">Composers</a>
    </nav>

    <main class="content">
        {% block content %}{% endblock %}
    </main>

    <footer class="player-bar">
        <div class="player-controls">
            <button id="prev-button" class="player-btn"><i class="fas fa-backward-step"></i></button>
            <button id="play-pause-button" class="player-btn play-btn"><i class="fas fa-play"></i></button>
            <button id="stop-button" class="player-btn"><i class="fas fa-stop"></i></button>
            <button id="next-button" class="player-btn"><i class="fas fa-forward-step"></i></button>
            <button id="shuffle-button" class="player-btn"><i class="fas fa-shuffle"></i></button>
        </div>
        <div class="now-playing">
            <span id="now-playing-title">---</span>
            <div class="next-up">Next: <span id="next-up-title">---</span></div>
        </div>
        <div class="midi-settings">
            <button id="playlist-toggle-btn" class="player-btn" title="Toggle Playlist"><i
                    class="fas fa-list"></i></button>
            <label for="midi-output-device">Output:</label>
            <select id="midi-output-device">
                <option value="">No Device Selected</option>
            </select>
        </div>
    </footer>

    <div id="playlist-modal" class="playlist-modal hidden">
        <div class="playlist-header">
            <h3>Current Queue</h3>
            <button id="playlist-close-btn" class="close-btn"><i class="fas fa-times"></i></button>
        </div>
        <ul id="playlist-items" class="playlist-items">
            <!-- Items injected by JS -->
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/webmidi@latest/dist/iife/webmidi.iife.js"></script>

    <script type="module" src="{{ '/static/js/webmidi.3.1.8.js' | urlencode }}"></script>
    <script type="module" src="{{ '/static/js/midi.2.0.28.js' | urlencode }}"></script>
    <script type="module" src="{{ '/static/js/Navigation.js' | urlencode }}"></script>
    <script src="{{ '/static/js/Playlist.js' | urlencode }}"></script>
    <script type="module" src="{{ '/static/js/App.js' | urlencode }}"></script>

    {% block scripts %}{% endblock %}

</body>

</html>